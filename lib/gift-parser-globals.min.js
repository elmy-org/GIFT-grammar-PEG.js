!function(r){"use strict";function t(r,n,e,u){this.message=r,this.expected=n,this.found=e,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(r,t){function n(){this.constructor=r}n.prototype=t.prototype,r.prototype=new n}(t,Error),t.buildMessage=function(r,t){var n={literal:function(r){return'"'+u(r.text)+'"'},class:function(r){var t,n="";for(t=0;t<r.parts.length;t++)n+=r.parts[t]instanceof Array?c(r.parts[t][0])+"-"+c(r.parts[t][1]):c(r.parts[t]);return"["+(r.inverted?"^":"")+n+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function e(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}function c(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}return"Expected "+function(r){var t,e,u,c=new Array(r.length);for(t=0;t<r.length;t++)c[t]=(u=r[t],n[u.type](u));if(c.sort(),c.length>0){for(t=1,e=1;t<c.length;t++)c[t-1]!==c[t]&&(c[e]=c[t],e++);c.length=e}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}(r)+" but "+function(r){return r?'"'+u(r)+'"':"end of input"}(t)+" found."},r.giftParser={SyntaxError:t,parse:function(r,n){n=void 0!==n?n:{};var e,u={},c={GIFTQuestions:Fn},o=Fn,a=function(r){return r},i=mn("Category"),l="$",f=An("$",!1),s="CATEGORY:",h=An("CATEGORY:",!1),p=function(r){return{type:"Category",title:r}},d=mn("Description"),g=function(r,t){var n={id:ne,tags:ee,type:"Description",title:r,stem:t,hasEmbeddedAnswers:!1};return fe(),ne=null,ee=null,n},A="{",v=An("{",!1),m="}",b=An("}",!1),C=function(r,t,n,e){var u=null!==e,c=t?t.text+(u?" ":""):"",o=t&&t.format||e&&e.format||"moodle",a=c+(u?"_____ "+e.text:""),i={type:n.type,title:r,stem:{format:o,text:a},hasEmbeddedAnswers:u};return i=function(r,t){switch(r.globalFeedback=t.globalFeedback,r.type){case"TF":r.isTrue=t.isTrue,r.trueFeedback=t.feedback[0],r.falseFeedback=t.feedback[1];break;case"MC":case"Numerical":case"Short":r.choices=t.choices;break;case"Matching":r.matchPairs=t.matchPairs}"MC"==r.type&&function(r){for(var t=!0,n=0;n<r.length;n++)t&=r[n].isCorrect;return t}(r.choices)&&(r.type="Short");return r.id=ne,r.tags=ee,r}(i,n),fe(),i},x=mn("{= match1 -> Match1\n...}"),y=function(r,t){return{type:"Matching",matchPairs:r,globalFeedback:t}},F=mn("matches"),w=function(r){return r},k=mn("match"),E="=",T=An("=",!1),S="->",M=An("->",!1),R=function(r,t){return{subquestion:{format:null!==r?r.format:le(),text:null!==r?r.text:""},subanswer:t}},j=mn("{T} or {F} or {TRUE} or {FALSE}"),N=function(r,t,n){return{type:"TF",isTrue:r,feedback:t,globalFeedback:n}},_=function(r){return r},L="TRUE",P=An("TRUE",!1),U="T",q=An("T",!1),G=function(){return!0},O="FALSE",D=An("FALSE",!1),Q="F",Y=An("F",!1),$=function(){return!1},H=mn("{=correct choice ~incorrect choice ... }"),I=function(r,t){return{type:"MC",choices:r,globalFeedback:t}},z=mn("Choices"),B=function(r){return r},J=mn("Choice"),K=/^[=~]/,V=vn(["=","~"],!1,!1),W=function(r,t){var n=r[2],e=r[4];return r={isCorrect:"="==r[0],weight:n,text:e,feedback:t}},X=mn("(weight)"),Z="%",rr=An("%",!1),tr=/^[\-]/,nr=vn(["-"],!1,!1),er=function(r){return parseFloat(r.join(""))},ur=mn("(percent)"),cr="100",or=An("100",!1),ar=/^[0-9]/,ir=vn([["0","9"]],!1,!1),lr=/^[.]/,fr=vn(["."],!1,!1),sr=function(){return gn()},hr=mn("(feedback)"),pr="#",dr=An("#",!1),gr="###",Ar=An("###",!1),vr=function(r){return r},mr=mn("Essay question { ... }"),br="",Cr=function(r){return{type:"Essay",globalFeedback:r}},xr=mn("Single short answer { ... }"),yr=function(r,t,n){var e=[];return e.push({isCorrect:!0,text:r,feedback:t,weight:null}),{type:"Short",choices:e,globalFeedback:n}},Fr=mn("{#... }"),wr=function(r,t){return{type:"Numerical",choices:r,globalFeedback:t}},kr=mn("Numerical Answers"),Er=mn("Multiple Numerical Choices"),Tr=mn("Numerical Choice"),Sr=function(r,t){var n=r[0],e=r[1],u=r[2];return r={isCorrect:"="==n,weight:e,text:null!==u?u:{format:le(),text:"*"},feedback:t}},Mr=mn("Single numeric answer"),Rr=mn("(number with range)"),jr=":",Nr=An(":",!1),_r=function(r,t){return{type:"range",number:r,range:t}},Lr=mn("(number with high-low)"),Pr="..",Ur=An("..",!1),qr=function(r,t){return{type:"high-low",numberHigh:t,numberLow:r}},Gr=mn("(number answer)"),Or=function(r){return{type:"simple",number:r}},Dr=mn(":: Title ::"),Qr="::",Yr=An("::",!1),$r=function(r){return ae(r.join(""))},Hr=mn("Question stem"),Ir=function(r){var t;return t=r.format,ce=t,r},zr=mn("(blank lines separator)"),Br=mn("(blank lines)"),Jr=mn("blank line"),Kr=mn("(Title text)"),Vr=function(r){return r},Wr=mn("(text character)"),Xr=mn("format"),Zr="[",rt=An("[",!1),tt="html",nt=An("html",!1),et="markdown",ut=An("markdown",!1),ct="plain",ot=An("plain",!1),at="moodle",it=An("moodle",!1),lt="]",ft=An("]",!1),st=function(r){return r},ht=mn("(escape character)"),pt="\\",dt=An("\\",!1),gt=mn("escape sequence"),At="~",vt=An("~",!1),mt="n",bt=An("n",!1),Ct=function(r){return oe["\\"+r]},xt=mn(""),yt={type:"any"},Ft=function(){return gn()},wt=mn("(formatted text excluding '->')"),kt=function(r,t){return function(r,t){let n=null!==r?r:le(),e=t.join("").replace(/\r\n/g,"\n").trim();return{format:n,text:ae("html"==n||"markdown"==n?e:ie(e))}}(r,t)},Et=mn("(formatted text)"),Tt=mn("(unformatted text)"),St=function(r){return ie(r.join("").trim())},Mt=mn("(category text)"),Rt=function(r){return r.flat().join("")},jt=function(){return parseFloat(gn())},Nt=".",_t=An(".",!1),Lt=/^[+\-]/,Pt=vn(["+","-"],!1,!1),Ut="####",qt=An("####",!1),Gt=function(r){return r},Ot=mn("(single line whitespace)"),Dt=mn("(multiple line whitespace)"),Qt=" ",Yt=An(" ",!1),$t=function(){ne=null,ee=null},Ht=mn("(comment)"),It="//",zt=An("//",!1),Bt=/^[^\n\r]/,Jt=vn(["\n","\r"],!0,!1),Kt=function(r){return null},Vt=function(r){var t=r.join(""),n=t.match(/\[id:([^\x00-\x1F\x7F]+?)]/);n&&(ne=n[1].trim().replace("\\]","]"));t.matchAll(/\[tag:([^\x00-\x1F\x7F]+?)]/g);return Array.from(t.matchAll(/\[tag:([^\x00-\x1F\x7F]+?)]/g),(function(r){return r[1]})).forEach((function(r){ee||(ee=[]),ee.push(r)})),null},Wt=mn("(space)"),Xt="\t",Zt=An("\t",!1),rn=mn("(end of line)"),tn="\r\n",nn=An("\r\n",!1),en="\n",un=An("\n",!1),cn="\r",on=An("\r",!1),an=function(){return"EOF"},ln=0,fn=0,sn=[{line:1,column:1}],hn=0,pn=[],dn=0;if("startRule"in n){if(!(n.startRule in c))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=c[n.startRule]}function gn(){return r.substring(fn,ln)}function An(r,t){return{type:"literal",text:r,ignoreCase:t}}function vn(r,t,n){return{type:"class",parts:r,inverted:t,ignoreCase:n}}function mn(r){return{type:"other",description:r}}function bn(t){var n,e=sn[t];if(e)return e;for(n=t-1;!sn[n];)n--;for(e={line:(e=sn[n]).line,column:e.column};n<t;)10===r.charCodeAt(n)?(e.line++,e.column=1):e.column++,n++;return sn[t]=e,e}function Cn(r,t){var n=bn(r),e=bn(t);return{start:{offset:r,line:n.line,column:n.column},end:{offset:t,line:e.line,column:e.column}}}function xn(r){ln<hn||(ln>hn&&(hn=ln,pn=[]),pn.push(r))}function yn(r,n,e){return new t(t.buildMessage(r,n),r,n,e)}function Fn(){var r,t,n;if(r=ln,t=[],(n=wn())===u&&(n=kn())===u&&(n=En()),n!==u)for(;n!==u;)t.push(n),(n=wn())===u&&(n=kn())===u&&(n=En());else t=u;return t!==u&&(n=Kn())!==u&&Vn()!==u?(fn=r,r=t=a(t)):(ln=r,r=u),r}function wn(){var t,n,e,c;return dn++,t=ln,Wn()!==u&&Vn()!==u?(36===r.charCodeAt(ln)?(n=l,ln++):(n=u,0===dn&&xn(f)),n!==u?(r.substr(ln,9)===s?(e=s,ln+=9):(e=u,0===dn&&xn(h)),e!==u&&Kn()!==u?(c=function(){var t,n,e,c,o;dn++,t=ln,n=[],e=ln,c=ln,dn++,o=re(),dn--,o===u?c=void 0:(ln=c,c=u);c!==u?(r.length>ln?(o=r.charAt(ln),ln++):(o=u,0===dn&&xn(yt)),o!==u?e=c=[c,o]:(ln=e,e=u)):(ln=e,e=u);for(;e!==u;)n.push(e),e=ln,c=ln,dn++,o=re(),dn--,o===u?c=void 0:(ln=c,c=u),c!==u?(r.length>ln?(o=r.charAt(ln),ln++):(o=u,0===dn&&xn(yt)),o!==u?e=c=[c,o]:(ln=e,e=u)):(ln=e,e=u);n!==u?(e=ln,dn++,(c=re())===u&&(c=te()),dn--,c!==u?(ln=e,e=void 0):e=u,e!==u?(fn=t,t=n=Rt(n)):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(Mt));return t}(),c!==u&&Pn()!==u?(fn=t,t=p(c)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(u,0===dn&&xn(i)),t}function kn(){var r,t,n,e;if(dn++,r=ln,Wn()!==u)if(Vn()!==u){for(t=[],n=Xn();n!==u;)t.push(n),n=Xn();t!==u?((n=_n())===u&&(n=null),n!==u&&Kn()!==u&&(e=Ln())!==u&&Pn()!==u?(fn=r,r=g(n,e)):(ln=r,r=u)):(ln=r,r=u)}else ln=r,r=u;else ln=r,r=u;return dn--,r===u&&(u,0===dn&&xn(d)),r}function En(){var t,n,e,c,o,a,i,l;if(t=ln,Wn()!==u)if(Vn()!==u){for(n=[],e=Xn();e!==u;)n.push(e),e=Xn();n!==u?((e=_n())===u&&(e=null),e!==u&&Kn()!==u?((c=Ln())===u&&(c=null),c!==u&&Kn()!==u?(123===r.charCodeAt(ln)?(o=A,ln++):(o=u,0===dn&&xn(v)),o!==u&&Kn()!==u?(a=function(){var r,t,n;dn++,r=ln,t=function(){var r,t,n;if(dn++,r=ln,t=[],n=Tn(),n!==u)for(;n!==u;)t.push(n),n=Tn();else t=u;t!==u&&(fn=r,t=w(t));r=t,dn--,r===u&&(t=u,0===dn&&xn(F));return r}(),t!==u&&Kn()!==u?((n=Jn())===u&&(n=null),n!==u&&Kn()!==u?(fn=r,r=t=y(t,n)):(ln=r,r=u)):(ln=r,r=u);dn--,r===u&&(t=u,0===dn&&xn(x));return r}(),a===u&&(a=function(){var t,n,e,c,o;dn++,t=ln,n=function(){var t,n;t=ln,n=function(){var t,n;t=ln,r.substr(ln,4)===L?(n=L,ln+=4):(n=u,0===dn&&xn(P));n===u&&(84===r.charCodeAt(ln)?(n=U,ln++):(n=u,0===dn&&xn(q)));n!==u&&(fn=t,n=G());return t=n,t}(),n===u&&(n=function(){var t,n;t=ln,r.substr(ln,5)===O?(n=O,ln+=5):(n=u,0===dn&&xn(D));n===u&&(70===r.charCodeAt(ln)?(n=Q,ln++):(n=u,0===dn&&xn(Y)));n!==u&&(fn=t,n=$());return t=n,t}());n!==u&&(fn=t,n=_(n));return t=n,t}(),n!==u&&Kn()!==u?(e=ln,(c=Rn())===u&&(c=null),c!==u?((o=Rn())===u&&(o=null),o!==u?e=c=[c,o]:(ln=e,e=u)):(ln=e,e=u),e!==u&&(c=Kn())!==u?((o=Jn())===u&&(o=null),o!==u?(fn=t,t=n=N(n,e,o)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(j));return t}(),a===u&&(a=function(){var r,t,n;dn++,r=ln,t=function(){var r,t,n;if(dn++,r=ln,t=[],n=Sn(),n!==u)for(;n!==u;)t.push(n),n=Sn();else t=u;t!==u&&(fn=r,t=B(t));r=t,dn--,r===u&&(t=u,0===dn&&xn(z));return r}(),t!==u&&Kn()!==u?((n=Jn())===u&&(n=null),n!==u&&Kn()!==u?(fn=r,r=t=I(t,n)):(ln=r,r=u)):(ln=r,r=u);dn--,r===u&&(t=u,0===dn&&xn(H));return r}(),a===u&&(a=function(){var t,n,e,c;dn++,t=ln,35===r.charCodeAt(ln)?(n=pr,ln++):(n=u,0===dn&&xn(dr));n!==u&&Kn()!==u?(e=function(){var r;dn++,r=function(){var r,t,n;if(dn++,r=ln,t=[],n=jn(),n!==u)for(;n!==u;)t.push(n),n=jn();else t=u;t!==u&&(fn=r,t=B(t));r=t,dn--,r===u&&(t=u,0===dn&&xn(Er));return r}(),r===u&&(r=Nn());dn--,r===u&&(u,0===dn&&xn(kr));return r}(),e!==u&&Kn()!==u?((c=Jn())===u&&(c=null),c!==u?(fn=t,t=n=wr(e,c)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(Fr));return t}(),a===u&&(a=function(){var r,t,n,e;dn++,r=ln,t=In(),t!==u&&Kn()!==u?((n=Rn())===u&&(n=null),n!==u&&Kn()!==u?((e=Jn())===u&&(e=null),e!==u&&Kn()!==u?(fn=r,r=t=yr(t,n,e)):(ln=r,r=u)):(ln=r,r=u)):(ln=r,r=u);dn--,r===u&&(t=u,0===dn&&xn(xr));return r}(),a===u&&(a=function(){var r,t,n;dn++,r=ln,t=br,t!==u&&Kn()!==u?((n=Jn())===u&&(n=null),n!==u&&Kn()!==u?(fn=r,r=t=Cr(n)):(ln=r,r=u)):(ln=r,r=u);dn--,r===u&&(t=u,0===dn&&xn(mr));return r}()))))),a!==u&&Kn()!==u?(125===r.charCodeAt(ln)?(i=m,ln++):(i=u,0===dn&&xn(b)),i!==u&&Kn()!==u?(l=function(){var t,n,e,c;dn++,t=ln,r.substr(ln,2)===It?(n=It,ln+=2):(n=u,0===dn&&xn(zt));if(n!==u){for(e=[],Bt.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(Jt));c!==u;)e.push(c),Bt.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(Jt));e!==u?(fn=t,t=n=Kt(e)):(ln=t,t=u)}else ln=t,t=u;dn--,t===u&&(n=u,0===dn&&xn(Ht));return t}(),l===u&&(l=Ln()),l===u&&(l=null),l!==u&&Pn()!==u?(fn=t,t=C(e,c,a,l)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)}else ln=t,t=u;else ln=t,t=u;return t}function Tn(){var t,n,e,c,o;return dn++,t=ln,Kn()!==u?(61===r.charCodeAt(ln)?(n=E,ln++):(n=u,0===dn&&xn(T)),n!==u&&Kn()!==u?(e=function(){var r,t,n,e;dn++,r=ln,t=Dn(),t===u&&(t=null);if(t!==u)if(Kn()!==u){if(n=[],(e=On())!==u)for(;e!==u;)n.push(e),e=On();else n=u;n!==u?(fn=r,r=t=kt(t,n)):(ln=r,r=u)}else ln=r,r=u;else ln=r,r=u;dn--,r===u&&(t=u,0===dn&&xn(wt));return r}(),e===u&&(e=null),e!==u&&Kn()!==u?(r.substr(ln,2)===S?(c=S,ln+=2):(c=u,0===dn&&xn(M)),c!==u&&Kn()!==u?(o=function(){var r,t,n;if(dn++,r=ln,t=[],n=Gn(),n!==u)for(;n!==u;)t.push(n),n=Gn();else t=u;t!==u&&(fn=r,t=St(t));r=t,dn--,r===u&&(t=u,0===dn&&xn(Tt));return r}(),o!==u&&Kn()!==u?(fn=t,t=R(e,o)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(u,0===dn&&xn(k)),t}function Sn(){var t,n,e,c,o,a,i;return dn++,t=ln,Kn()!==u?(n=ln,K.test(r.charAt(ln))?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(V)),e!==u&&(c=Kn())!==u?((o=Mn())===u&&(o=null),o!==u&&(a=Kn())!==u&&(i=In())!==u?n=e=[e,c,o,a,i]:(ln=n,n=u)):(ln=n,n=u),n!==u?((e=Rn())===u&&(e=null),e!==u&&(c=Kn())!==u?(fn=t,t=W(n,e)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(u,0===dn&&xn(J)),t}function Mn(){var t,n,e,c,o;return dn++,t=ln,37===r.charCodeAt(ln)?(n=Z,ln++):(n=u,0===dn&&xn(rr)),n!==u?(e=ln,tr.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(nr)),c===u&&(c=null),c!==u?(o=function(){var t,n,e,c,o,a;dn++,r.substr(ln,3)===cr?(t=cr,ln+=3):(t=u,0===dn&&xn(or));if(t===u)if(t=ln,ar.test(r.charAt(ln))?(n=r.charAt(ln),ln++):(n=u,0===dn&&xn(ir)),n!==u)if(ar.test(r.charAt(ln))?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(ir)),e===u&&(e=null),e!==u)if(lr.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(fr)),c===u&&(c=null),c!==u){for(o=[],ar.test(r.charAt(ln))?(a=r.charAt(ln),ln++):(a=u,0===dn&&xn(ir));a!==u;)o.push(a),ar.test(r.charAt(ln))?(a=r.charAt(ln),ln++):(a=u,0===dn&&xn(ir));o!==u?(fn=t,t=n=sr()):(ln=t,t=u)}else ln=t,t=u;else ln=t,t=u;else ln=t,t=u;dn--,t===u&&(n=u,0===dn&&xn(ur));return t}(),o!==u?e=c=[c,o]:(ln=e,e=u)):(ln=e,e=u),e!==u?(37===r.charCodeAt(ln)?(c=Z,ln++):(c=u,0===dn&&xn(rr)),c!==u?(fn=t,t=n=er(e)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(X)),t}function Rn(){var t,n,e,c,o;return dn++,t=ln,35===r.charCodeAt(ln)?(n=pr,ln++):(n=u,0===dn&&xn(dr)),n!==u?(e=ln,dn++,r.substr(ln,3)===gr?(c=gr,ln+=3):(c=u,0===dn&&xn(Ar)),dn--,c===u?e=void 0:(ln=e,e=u),e!==u&&(c=Kn())!==u?((o=In())===u&&(o=null),o!==u?(fn=t,t=n=vr(o)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(hr)),t}function jn(){var t,n,e,c,o;return dn++,t=ln,Kn()!==u?(n=ln,K.test(r.charAt(ln))?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(V)),e!==u?((c=Mn())===u&&(c=null),c!==u?((o=Nn())===u&&(o=null),o!==u?n=e=[e,c,o]:(ln=n,n=u)):(ln=n,n=u)):(ln=n,n=u),n!==u&&(e=Kn())!==u?((c=Rn())===u&&(c=null),c!==u&&(o=Kn())!==u?(fn=t,t=Sr(n,c)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(u,0===dn&&xn(Tr)),t}function Nn(){var t;return dn++,t=function(){var t,n,e,c;dn++,t=ln,n=zn(),n!==u?(58===r.charCodeAt(ln)?(e=jr,ln++):(e=u,0===dn&&xn(Nr)),e!==u&&(c=zn())!==u?(fn=t,t=n=_r(n,c)):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(Rr));return t}(),t===u&&(t=function(){var t,n,e,c;dn++,t=ln,n=zn(),n!==u?(r.substr(ln,2)===Pr?(e=Pr,ln+=2):(e=u,0===dn&&xn(Ur)),e!==u&&(c=zn())!==u?(fn=t,t=n=qr(n,c)):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(Lr));return t}(),t===u&&(t=function(){var r,t;dn++,r=ln,t=zn(),t!==u&&(fn=r,t=Or(t));r=t,dn--,r===u&&(t=u,0===dn&&xn(Gr));return r}())),dn--,t===u&&(u,0===dn&&xn(Mr)),t}function _n(){var t,n,e,c;if(dn++,t=ln,r.substr(ln,2)===Qr?(n=Qr,ln+=2):(n=u,0===dn&&xn(Yr)),n!==u){if(e=[],(c=qn())!==u)for(;c!==u;)e.push(c),c=qn();else e=u;e!==u?(r.substr(ln,2)===Qr?(c=Qr,ln+=2):(c=u,0===dn&&xn(Yr)),c!==u?(fn=t,t=n=$r(e)):(ln=t,t=u)):(ln=t,t=u)}else ln=t,t=u;return dn--,t===u&&(n=u,0===dn&&xn(Dr)),t}function Ln(){var r,t;return dn++,r=ln,(t=In())!==u&&(fn=r,t=Ir(t)),dn--,(r=t)===u&&(t=u,0===dn&&xn(Hr)),r}function Pn(){var r,t,n;return dn++,r=function(){var r,t,n,e;if(dn++,r=ln,t=re(),t!==u){if(n=[],(e=Un())!==u)for(;e!==u;)n.push(e),e=Un();else n=u;n!==u?r=t=[t,n]:(ln=r,r=u)}else ln=r,r=u;dn--,r===u&&(t=u,0===dn&&xn(Br));return r}(),r===u&&(r=ln,(t=re())===u&&(t=null),t!==u&&(n=te())!==u?r=t=[t,n]:(ln=r,r=u)),dn--,r===u&&(t=u,0===dn&&xn(zr)),r}function Un(){var r,t,n;for(dn++,r=ln,t=[],n=Zn();n!==u;)t.push(n),n=Zn();return t!==u&&(n=re())!==u?r=t=[t,n]:(ln=r,r=u),dn--,r===u&&(t=u,0===dn&&xn(Jr)),r}function qn(){var t,n,e;return dn++,t=ln,n=ln,dn++,r.substr(ln,2)===Qr?(e=Qr,ln+=2):(e=u,0===dn&&xn(Yr)),dn--,e===u?n=void 0:(ln=n,n=u),n!==u?((e=Yn())===u&&(e=$n()),e!==u?(fn=t,t=n=Vr(e)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(Kr)),t}function Gn(){var r;return dn++,(r=$n())===u&&(r=Yn())===u&&(r=Qn()),dn--,r===u&&(u,0===dn&&xn(Wr)),r}function On(){var t;return dn++,t=function(){var t,n,e;dn++,t=ln,n=ln,dn++,(e=Yn())===u&&(e=Hn())===u&&(r.substr(ln,2)===S?(e=S,ln+=2):(e=u,0===dn&&xn(M)),e===u&&(e=Pn()));dn--,e===u?n=void 0:(ln=n,n=u);n!==u?(r.length>ln?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(yt)),e!==u?(fn=t,t=n=Ft()):(ln=t,t=u)):(ln=t,t=u);dn--,t===u&&(n=u,0===dn&&xn(xt));return t}(),t===u&&(t=Yn())===u&&(t=Qn()),dn--,t===u&&(u,0===dn&&xn(Wr)),t}function Dn(){var t,n,e,c;return dn++,t=ln,91===r.charCodeAt(ln)?(n=Zr,ln++):(n=u,0===dn&&xn(rt)),n!==u?(r.substr(ln,4)===tt?(e=tt,ln+=4):(e=u,0===dn&&xn(nt)),e===u&&(r.substr(ln,8)===et?(e=et,ln+=8):(e=u,0===dn&&xn(ut)),e===u&&(r.substr(ln,5)===ct?(e=ct,ln+=5):(e=u,0===dn&&xn(ot)),e===u&&(r.substr(ln,6)===at?(e=at,ln+=6):(e=u,0===dn&&xn(it))))),e!==u?(93===r.charCodeAt(ln)?(c=lt,ln++):(c=u,0===dn&&xn(ft)),c!==u?(fn=t,t=n=st(e)):(ln=t,t=u)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(Xr)),t}function Qn(){var t;return dn++,92===r.charCodeAt(ln)?(t=pt,ln++):(t=u,0===dn&&xn(dt)),dn--,t===u&&(u,0===dn&&xn(ht)),t}function Yn(){var t,n,e;return dn++,t=ln,92===r.charCodeAt(ln)?(n=pt,ln++):(n=u,0===dn&&xn(dt)),n!==u?(92===r.charCodeAt(ln)?(e=pt,ln++):(e=u,0===dn&&xn(dt)),e===u&&(58===r.charCodeAt(ln)?(e=jr,ln++):(e=u,0===dn&&xn(Nr)),e===u&&(35===r.charCodeAt(ln)?(e=pr,ln++):(e=u,0===dn&&xn(dr)),e===u&&(61===r.charCodeAt(ln)?(e=E,ln++):(e=u,0===dn&&xn(T)),e===u&&(123===r.charCodeAt(ln)?(e=A,ln++):(e=u,0===dn&&xn(v)),e===u&&(125===r.charCodeAt(ln)?(e=m,ln++):(e=u,0===dn&&xn(b)),e===u&&(126===r.charCodeAt(ln)?(e=At,ln++):(e=u,0===dn&&xn(vt)),e===u&&(110===r.charCodeAt(ln)?(e=mt,ln++):(e=u,0===dn&&xn(bt))))))))),e!==u?(fn=t,t=n=Ct(e)):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(gt)),t}function $n(){var t,n,e;return dn++,t=ln,n=ln,dn++,(e=Yn())===u&&(e=Hn())===u&&(e=Pn()),dn--,e===u?n=void 0:(ln=n,n=u),n!==u?(r.length>ln?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(yt)),e!==u?(fn=t,t=n=Ft()):(ln=t,t=u)):(ln=t,t=u),dn--,t===u&&(n=u,0===dn&&xn(xt)),t}function Hn(){var t;return 61===r.charCodeAt(ln)?(t=E,ln++):(t=u,0===dn&&xn(T)),t===u&&(126===r.charCodeAt(ln)?(t=At,ln++):(t=u,0===dn&&xn(vt)),t===u&&(35===r.charCodeAt(ln)?(t=pr,ln++):(t=u,0===dn&&xn(dr)),t===u&&(123===r.charCodeAt(ln)?(t=A,ln++):(t=u,0===dn&&xn(v)),t===u&&(125===r.charCodeAt(ln)?(t=m,ln++):(t=u,0===dn&&xn(b)),t===u&&(92===r.charCodeAt(ln)?(t=pt,ln++):(t=u,0===dn&&xn(dt)),t===u&&(58===r.charCodeAt(ln)?(t=jr,ln++):(t=u,0===dn&&xn(Nr)))))))),t}function In(){var r,t,n,e;if(dn++,r=ln,(t=Dn())===u&&(t=null),t!==u)if(Kn()!==u){if(n=[],(e=Gn())!==u)for(;e!==u;)n.push(e),e=Gn();else n=u;n!==u?(fn=r,r=t=kt(t,n)):(ln=r,r=u)}else ln=r,r=u;else ln=r,r=u;return dn--,r===u&&(t=u,0===dn&&xn(Et)),r}function zn(){var t,n,e;return t=ln,n=function(){var t;Lt.test(r.charAt(ln))?(t=r.charAt(ln),ln++):(t=u,0===dn&&xn(Pt));return t}(),n===u&&(n=null),n!==u?(e=function(){var t,n,e,c,o;t=ln,n=Bn(),n!==u?(e=ln,46===r.charCodeAt(ln)?(c=Nt,ln++):(c=u,0===dn&&xn(_t)),c!==u&&(o=Bn())!==u?e=c=[c,o]:(ln=e,e=u),e===u&&(e=null),e!==u?t=n=[n,e]:(ln=t,t=u)):(ln=t,t=u);return t}(),e!==u?(fn=t,t=n=jt()):(ln=t,t=u)):(ln=t,t=u),t}function Bn(){var t,n;if(t=[],ar.test(r.charAt(ln))?(n=r.charAt(ln),ln++):(n=u,0===dn&&xn(ir)),n!==u)for(;n!==u;)t.push(n),ar.test(r.charAt(ln))?(n=r.charAt(ln),ln++):(n=u,0===dn&&xn(ir));else t=u;return t}function Jn(){var t,n,e;return t=ln,r.substr(ln,4)===Ut?(n=Ut,ln+=4):(n=u,0===dn&&xn(qt)),n!==u&&Kn()!==u&&(e=In())!==u&&Kn()!==u?(fn=t,t=n=Gt(e)):(ln=t,t=u),t}function Kn(){var r,t,n,e,c;for(dn++,r=[],(t=Zn())===u&&(t=ln,(n=re())!==u?(e=ln,dn++,c=Un(),dn--,c===u?e=void 0:(ln=e,e=u),e!==u?t=n=[n,e]:(ln=t,t=u)):(ln=t,t=u));t!==u;)r.push(t),(t=Zn())===u&&(t=ln,(n=re())!==u?(e=ln,dn++,c=Un(),dn--,c===u?e=void 0:(ln=e,e=u),e!==u?t=n=[n,e]:(ln=t,t=u)):(ln=t,t=u));return dn--,r===u&&(t=u,0===dn&&xn(Ot)),r}function Vn(){var r,t;for(dn++,r=[],(t=Xn())===u&&(t=re())===u&&(t=Zn());t!==u;)r.push(t),(t=Xn())===u&&(t=re())===u&&(t=Zn());return dn--,r===u&&(t=u,0===dn&&xn(Dt)),r}function Wn(){var t,n,e,c;for(t=ln,n=ln,dn++,e=[],32===r.charCodeAt(ln)?(c=Qt,ln++):(c=u,0===dn&&xn(Yt));c!==u;)e.push(c),32===r.charCodeAt(ln)?(c=Qt,ln++):(c=u,0===dn&&xn(Yt));return dn--,e!==u?(ln=n,n=void 0):n=u,n!==u&&(fn=t,n=$t()),t=n}function Xn(){var t,n,e,c;if(dn++,t=ln,r.substr(ln,2)===It?(n=It,ln+=2):(n=u,0===dn&&xn(zt)),n!==u){for(e=[],Bt.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(Jt));c!==u;)e.push(c),Bt.test(r.charAt(ln))?(c=r.charAt(ln),ln++):(c=u,0===dn&&xn(Jt));e!==u?(fn=t,t=n=Vt(e)):(ln=t,t=u)}else ln=t,t=u;return dn--,t===u&&(n=u,0===dn&&xn(Ht)),t}function Zn(){var t;return dn++,32===r.charCodeAt(ln)?(t=Qt,ln++):(t=u,0===dn&&xn(Yt)),t===u&&(9===r.charCodeAt(ln)?(t=Xt,ln++):(t=u,0===dn&&xn(Zt))),dn--,t===u&&(u,0===dn&&xn(Wt)),t}function re(){var t;return dn++,r.substr(ln,2)===tn?(t=tn,ln+=2):(t=u,0===dn&&xn(nn)),t===u&&(10===r.charCodeAt(ln)?(t=en,ln++):(t=u,0===dn&&xn(un)),t===u&&(13===r.charCodeAt(ln)?(t=cn,ln++):(t=u,0===dn&&xn(on)))),dn--,t===u&&(u,0===dn&&xn(rn)),t}function te(){var t,n,e;return t=ln,n=ln,dn++,r.length>ln?(e=r.charAt(ln),ln++):(e=u,0===dn&&xn(yt)),dn--,e===u?n=void 0:(ln=n,n=u),n!==u&&(fn=t,n=an()),t=n}var ne=null,ee=null,ue="moodle",ce=ue;const oe={"\\\\":"&&092;","\\:":"&&058;","\\#":"&&035;","\\=":"&&061;","\\{":"&&123;","\\}":"&&125;","\\~":"&&126;","\\n":"&&010"};function ae(r){return r.replace(/&&092;/g,"\\").replace(/&&058;/g,":").replace(/&&035;/g,"#").replace(/&&061;/g,"=").replace(/&&123;/g,"{").replace(/&&125;/g,"}").replace(/&&126;/g,"~").replace(/&&010/g,"\n")}function ie(r){return(r=r.replace(/[\n\r]/g," ")).replace(/\s\s+/g," ")}function le(){return ce}function fe(){ce=ue}if((e=o())!==u&&ln===r.length)return e;throw e!==u&&ln<r.length&&xn({type:"end"}),yn(pn,hn<r.length?r.charAt(hn):null,hn<r.length?Cn(hn,hn+1):Cn(hn,hn))}}}(this);
